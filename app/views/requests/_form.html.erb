<%= render 'share/errors', obj: @request %>
<div class="row">
	<div class="col-md-12">
		<%= form_for(@request, :html => {class: "form-horizontal", role: "form"}) do |f| %>
			<div class="form-group">
				<div class="control-label col-sm-2">
					<%= f.label "Select request type" %>
				</div>

				<div class="col-sm-8">
					<%= f.collection_select(:category_id, Category.all, :id, :name) %>
				</div>
			</div>

			<div class="form-group">
				<div class="control-label col-sm-2">
					<%= f.label "Employee Name" %>
				</div>

				<div class="col-sm-8">
					<%= f.label current_user.empname %>
				</div>
			</div>

			<div class="form-group">
				<div class="control-label col-sm-2">
					<%= f.label "Approving officer" %>
				</div>

				<div class="col-sm-8">
					<% @current_officer = Officer.select("*").where(:department_id => current_user.department_id) %>
					<% @current_officer.each do |co| %>
					<%= f.label co.user.empname %>
					<%end%>
				</div>
			</div>

			<div class="form-group">
				<div class="control-label col-sm-2">
					<%= f.label "Department" %>
				</div>

				<div class="col-sm-8">
					<%= f.label "#{current_user.department.name}" %>
				</div>
			</div>

			<div class="form-group">
				<div class="control-label col-sm-2">
					<%= f.label "Product Type to Request" %>
				</div>

				<div class="col-sm-8">
					<%= f.collection_select(:type_id, Type.all, :id, :name) %>
				</div>
			</div>

			<div class="form-group">
				<div class="control-label col-sm-2">
					<%= f.label "Product to Request" %>
				</div>

				<div class="col-sm-8">
					<%= f.collection_select(:product_id, Product.all, :id, :name) %>
				</div>
			</div>

			<div class="form-group">
				<div class="control-label col-sm-2">
					<%= f.label "Product to Request" %>
				</div>

				<div class="col-sm-8">
					<%= f.text_field :qty, class: "form-control", placeholder: "Enter Quantity", autofocus: true %>
				</div>
			</div>

			<div class="form-group">
				<div class="control-label col-sm-2">
					<%= f.label "Product to Request" %>
				</div>

				<div class="col-sm-8">
					<%= f.collection_select(:unit, Unit.all, :id, :name) %>
				</div>
			</div>

		      <div class="form-group">
		        <div class="control-label col-sm-2">
		          <%= f.label :purpose %>
		        </div>
		        <div class="col-sm-8">
		          <%= f.text_area :reason, rows: 3, class: "form-control", placeholder: "Reason for requesition of item" %>
		        </div>
		      </div>

			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-10">
					<%= f.submit(@request.new_record? ? "Generate Request" : "Update Request", class: "btn btn-primary btn-lg") %>
				</div>
			</div>
		<% end %>
		<div class="col-xs-4 col-xs-offset-4">
			[ <%= link_to "Cancel request and return to Home page", root_path %> ]
		</div>
	</div>
</div>