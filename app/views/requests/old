<% @request_list = Request.select("*").where(:department_id => current_user.department_id) %>
        <% @request_list.each do |req| %>
            <tr>
              <td align="center"><%= req.category.name %></td>
              <td align="center"><%= req.user.empname %></td>
              <td align="center"><%= req.department.name %></td>
              <td align="center"><%= req.officer.user.empname %></td>
              <td align="center"><%= req.type.name %></td>
              <td align="center"><%= req.product.name %></td>
              <td align="center"><%= pluralize(req.qty, "#{req.unit.name}") %> </td>
              <td align="center"><%= truncate(req.reason, length: 25) %></td>
              <td align="center"><%= req.status %></td>
              <% if logged_in? && (current_user == req.user && req.status == "Pending") %>
              <td>
                  <%= link_to "Update", edit_request_path(req), class: "btn btn-xs btn-primary" %>
                  <%= link_to "Delete", request_path(req), method: :delete, 
                                    data: {confirm: "Are you sure you want to delete this request?"}, 
                                      class: "btn btn-xs btn-danger" %>
              </td>
              <% elsif logged_in? && (current_user.id == req.officer.user_id) %>
                <% if req.status == "Pending" %>
                  <td>
                      <%= link_to "View", request_path(req),
                                        data: {confirm: "Are you sure you want to view this request?"}, 
                                          class: "btn btn-xs btn-primary" %>
                      <%= link_to "Approve", request_path(req), method: :put, 
                                        data: {confirm: "Are you sure you want to approve this request?"}, 
                                          class: "btn btn-xs btn-success" %>
                  </td>
                <%else%>

                <%end%>
              <%else%>

              <% end %>
            </tr>
        <%end%>